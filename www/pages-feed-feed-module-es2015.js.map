{"version":3,"sources":["./src/app/pages/feed/feed.page.html","./src/app/pages/feed/feed-routing.module.ts","./src/app/pages/feed/feed.module.ts","./src/app/pages/feed/feed.page.scss","./src/app/pages/feed/feed.page.ts"],"names":[],"mappings":"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","file":"pages-feed-feed-module-es2015.js","sourcesContent":["module.exports = \"\\r\\n\\r\\n<ion-app>\\r\\n    <ion-content overflow-scroll=\\\"true\\\">\\r\\n\\r\\n    <ion-menu contentId=\\\"main\\\" side=\\\"end\\\" class=\\\"navMenu\\\">\\r\\n        <ion-content>\\r\\n          <ion-list>\\r\\n            <ion-item>\\r\\n              <ion-button class=\\\"navButton\\\" fill=\\\"clear\\\"  href=\\\"/user/profile\\\">Profile</ion-button>\\r\\n            </ion-item>\\r\\n            <ion-item>\\r\\n              <ion-button class=\\\"navButton\\\" fill=\\\"clear\\\" href=\\\"/user/gym\\\">Gyms</ion-button>\\r\\n            </ion-item>\\r\\n            <ion-item>\\r\\n              <ion-button class=\\\"navButton\\\" fill=\\\"clear\\\" href=\\\"/user/groups\\\">Groups</ion-button>\\r\\n            </ion-item>\\r\\n            <ion-button (click)=\\\"signOut()\\\" class=\\\"signOutButton\\\">\\r\\n              Logout <ion-icon slot=\\\"icon-only\\\" name=\\\"log-out\\\"></ion-icon>\\r\\n            </ion-button>\\r\\n       \\r\\n          </ion-list>\\r\\n        </ion-content>\\r\\n      </ion-menu>\\r\\n      \\r\\n      <div id=\\\"main\\\">\\r\\n        <ion-header>\\r\\n          <ion-toolbar>\\r\\n            <ion-buttons slot=\\\"end\\\">\\r\\n              <ion-menu-button></ion-menu-button>\\r\\n            </ion-buttons>\\r\\n            <ion-img class=\\\"logo\\\" src=\\\"../../assets/logo.png\\\"></ion-img>\\r\\n          </ion-toolbar>\\r\\n        </ion-header>\\r\\n      </div>   \\r\\n\\r\\n<main>\\r\\n    <div>\\r\\n      <ion-button class=\\\"nav\\\" href=\\\"user/profile\\\" color=\\\"lightred\\\">profile</ion-button>\\r\\n      <ion-button class=\\\"nav\\\" color=\\\"darkred\\\">Photos</ion-button>\\r\\n      <ion-button class=\\\"nav\\\" color=\\\"lightred\\\">Schedule</ion-button>\\r\\n      <ion-button (click)=\\\"togglePost()\\\" class=\\\"darkred\\\">Add Post</ion-button>\\r\\n    </div>\\r\\n    \\r\\n    <div class=\\\"profileImage\\\" *ngIf=\\\"togglePostFlag\\\">\\r\\n      <div *ngIf=\\\"imageReady\\\">\\r\\n        <!-- <div class=\\\"imageBg\\\" [style.background-image]=\\\"profileImage\\\"> -->\\r\\n        <div class=\\\"imageBg\\\" [ngStyle]=\\\"{'background-image':'url('+profileImage+')'}\\\">\\r\\n          <!-- <img [src]=\\\"profileImage\\\" *ngIf=\\\"profileImage\\\"> -->\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n\\r\\n    <form (ngSubmit)=\\\"createPost()\\\" *ngIf=\\\"togglePostFlag\\\">\\r\\n      <ion-textarea placeholder=\\\"What is on your mind?\\\" [(ngModel)]=\\\"postData.txt\\\" name=\\\"txt\\\"></ion-textarea>\\r\\n      <ion-button (click)=\\\"selectSource()\\\"><ion-icon name=\\\"ios-image\\\"></ion-icon> Add Image</ion-button>\\r\\n      <ion-button *ngIf=\\\"imageReady\\\" (click)=\\\"removeImage()\\\"><ion-icon name=\\\"ios-image\\\"></ion-icon> Remove Image</ion-button>\\r\\n      <ion-button expand=\\\"block\\\" type=\\\"submit\\\" class=\\\"ion-margin-vertical\\\">\\r\\n        Post\\r\\n      </ion-button>\\r\\n    </form>\\r\\n\\r\\n    <div>\\r\\n      <ion-card  *ngFor =\\\"let post of myPosts\\\">\\r\\n        <div>\\r\\n          <div class=\\\"post-bg\\\" *ngIf=post.Image [ngStyle]=\\\"{'background-image':'url('+post.Image+')'}\\\"></div>\\r\\n          <p>{{post.Data.txt}}</p>\\r\\n          <p>{{post.Data.fname}}</p>\\r\\n          <p>{{post.Data.lname}}</p>\\r\\n        </div>\\r\\n      </ion-card> \\r\\n      \\r\\n      <ion-card class=\\\"profileImage2\\\">\\r\\n          <ion-card-header>\\r\\n            <ion-card-title id=\\\"nameStatus\\\">Smart Fitness</ion-card-title>\\r\\n          </ion-card-header>\\r\\n\\r\\n          <ion-card-content id=\\\"nameStatus\\\">\\r\\n            We just released a new class schedule! Check it out!\\r\\n          </ion-card-content>\\r\\n        </ion-card>\\r\\n    </div>\\r\\n</main>\\r\\n</ion-content>\\r\\n\\r\\n</ion-app>\"","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { FeedPage } from './feed.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: FeedPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class FeedPageRoutingModule {}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { FeedPageRoutingModule } from './feed-routing.module';\r\n\r\nimport { FeedPage } from './feed.page';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    FeedPageRoutingModule\r\n  ],\r\n  declarations: [FeedPage]\r\n})\r\nexport class FeedPageModule {}\r\n","module.exports = \".profileImage {\\n  background-size: cover;\\n  background-repeat: no-repeat;\\n  position: relative;\\n}\\n.profileImage > div {\\n  height: 400px;\\n}\\n.profileImage .imageBg {\\n  height: 100%;\\n  width: 100%;\\n  position: absolute;\\n  top: 0px;\\n  left: 0px;\\n  background-size: cover;\\n  background-position: 50% 50%;\\n}\\n.profileImage ion-card-header {\\n  position: absolute;\\n  bottom: 0px;\\n  padding: 10px;\\n  background: rgba(0, 0, 0, 0.7);\\n  color: #ffffff;\\n}\\n.profileImage ion-card-header ion-card-title {\\n  font-weight: bold;\\n  padding: 0px;\\n  color: #fff !important;\\n}\\n.profileImage ion-card-header ion-card-subtitle {\\n  margin: 0px;\\n  color: #fff;\\n}\\n.profileImage ion-button {\\n  background: rgba(0, 0, 0, 0.6);\\n  border-radius: 10px;\\n  position: absolute;\\n  right: 5px;\\n  top: 0px;\\n}\\n#nameStatus {\\n  color: white;\\n  text-shadow: -2px 2px 6px black;\\n}\\n.profileImage2 {\\n  background: url('gymprofile.jpeg');\\n  background-size: cover;\\n  background-repeat: no-repeat;\\n  height: 55%;\\n}\\n.nav {\\n  width: 24%;\\n}\\n.navMenu {\\n  position: fixed;\\n  z-index: 9999;\\n}\\n.navMenu ion-list {\\n  padding-top: 30px;\\n  height: 100%;\\n}\\np {\\n  color: white;\\n  text-align: center;\\n}\\n.hide {\\n  display: none;\\n}\\nion-textarea {\\n  background: #fff;\\n  padding: 10px;\\n}\\n.post-bg {\\n  min-height: 200px;\\n  background-size: cover;\\n  background-position: 50% 50%;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGFnZXMvZmVlZC9DOlxcVXNlcnNcXHRjYXJ2XFxEb2N1bWVudHNcXEdpdGh1YlxcR3ltLVdhcnJpb3Ivc3JjXFxhcHBcXHBhZ2VzXFxmZWVkXFxmZWVkLnBhZ2Uuc2NzcyIsInNyYy9hcHAvcGFnZXMvZmVlZC9mZWVkLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLHNCQUFBO0VBQ0EsNEJBQUE7RUFDQSxrQkFBQTtBQ0NGO0FEQ0U7RUFDRSxhQUFBO0FDQ0o7QURFRTtFQUNFLFlBQUE7RUFDQSxXQUFBO0VBQ0Esa0JBQUE7RUFDQSxRQUFBO0VBQ0EsU0FBQTtFQUNBLHNCQUFBO0VBQ0EsNEJBQUE7QUNBSjtBREVFO0VBQ0Usa0JBQUE7RUFDQSxXQUFBO0VBQ0EsYUFBQTtFQUNBLDhCQUFBO0VBQ0EsY0FBQTtBQ0FKO0FERUk7RUFDRSxpQkFBQTtFQUNBLFlBQUE7RUFDQSxzQkFBQTtBQ0FOO0FERUk7RUFDRSxXQUFBO0VBQ0EsV0FBQTtBQ0FOO0FESUU7RUFDRSw4QkFBQTtFQUNBLG1CQUFBO0VBQ0Esa0JBQUE7RUFDQSxVQUFBO0VBQ0EsUUFBQTtBQ0ZKO0FETUE7RUFDRSxZQUFBO0VBQ0EsK0JBQUE7QUNIRjtBRE1FO0VBQ0Usa0NBQUE7RUFDQSxzQkFBQTtFQUNBLDRCQUFBO0VBQ0EsV0FBQTtBQ0hKO0FETUU7RUFDRSxVQUFBO0FDSEo7QURNRTtFQUNFLGVBQUE7RUFDQSxhQUFBO0FDSEo7QURLSTtFQUNFLGlCQUFBO0VBQ0EsWUFBQTtBQ0hOO0FETUM7RUFDRSxZQUFBO0VBQ0Esa0JBQUE7QUNISDtBRE9DO0VBQ0UsYUFBQTtBQ0pIO0FET0M7RUFDRSxnQkFBQTtFQUNBLGFBQUE7QUNKSDtBRE1BO0VBQ0UsaUJBQUE7RUFDQSxzQkFBQTtFQUNBLDRCQUFBO0FDSEYiLCJmaWxlIjoic3JjL2FwcC9wYWdlcy9mZWVkL2ZlZWQucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLnByb2ZpbGVJbWFnZSB7XHJcbiAgYmFja2dyb3VuZC1zaXplOiBjb3ZlcjtcclxuICBiYWNrZ3JvdW5kLXJlcGVhdDogbm8tcmVwZWF0O1xyXG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcclxuXHJcbiAgJj5kaXYge1xyXG4gICAgaGVpZ2h0OiA0MDBweDtcclxuICB9XHJcbiAgXHJcbiAgLmltYWdlQmcge1xyXG4gICAgaGVpZ2h0OiAxMDAlO1xyXG4gICAgd2lkdGg6IDEwMCU7XHJcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICB0b3A6IDBweDtcclxuICAgIGxlZnQ6IDBweDtcclxuICAgIGJhY2tncm91bmQtc2l6ZTogY292ZXI7XHJcbiAgICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiA1MCUgNTAlO1xyXG4gIH1cclxuICBpb24tY2FyZC1oZWFkZXIge1xyXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgYm90dG9tOiAwcHg7XHJcbiAgICBwYWRkaW5nOiAxMHB4O1xyXG4gICAgYmFja2dyb3VuZDogcmdiYSgwLDAsMCwwLjcpO1xyXG4gICAgY29sb3I6ICNmZmZmZmY7XHJcblxyXG4gICAgaW9uLWNhcmQtdGl0bGUge1xyXG4gICAgICBmb250LXdlaWdodDogYm9sZDtcclxuICAgICAgcGFkZGluZzogMHB4O1xyXG4gICAgICBjb2xvcjogI2ZmZiAhaW1wb3J0YW50O1xyXG4gICAgfVxyXG4gICAgaW9uLWNhcmQtc3VidGl0bGUge1xyXG4gICAgICBtYXJnaW46IDBweDtcclxuICAgICAgY29sb3I6ICNmZmY7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBpb24tYnV0dG9uIHtcclxuICAgIGJhY2tncm91bmQ6IHJnYmEoMCwwLDAsMC42KTtcclxuICAgIGJvcmRlci1yYWRpdXM6IDEwcHg7XHJcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICByaWdodDogNXB4O1xyXG4gICAgdG9wOiAwcHg7XHJcbiAgfVxyXG59XHJcblxyXG4jbmFtZVN0YXR1cyB7XHJcbiAgY29sb3I6d2hpdGU7XHJcbiAgdGV4dC1zaGFkb3c6IC0ycHggMnB4IDZweCBibGFjaztcclxuICB9XHJcblxyXG4gIC5wcm9maWxlSW1hZ2UyIHtcclxuICAgIGJhY2tncm91bmQ6IHVybCguLi8uLi8uLi9hc3NldHMvZ3ltcHJvZmlsZS5qcGVnKTtcclxuICAgIGJhY2tncm91bmQtc2l6ZTogY292ZXI7XHJcbiAgICBiYWNrZ3JvdW5kLXJlcGVhdDogbm8tcmVwZWF0O1xyXG4gICAgaGVpZ2h0OiA1NSU7XHJcblxyXG4gIH1cclxuICAubmF2e1xyXG4gICAgd2lkdGg6IDI0JTtcclxuICB9XHJcblxyXG4gIC5uYXZNZW51IHtcclxuICAgIHBvc2l0aW9uOiBmaXhlZDtcclxuICAgIHotaW5kZXg6IDk5OTk7XHJcbiAgICBcclxuICAgIGlvbi1saXN0IHtcclxuICAgICAgcGFkZGluZy10b3A6IDMwcHg7XHJcbiAgICAgIGhlaWdodDogMTAwJTtcclxuICAgIH1cclxuICB9XHJcbiBwe1xyXG4gICBjb2xvcjogd2hpdGU7XHJcbiAgIHRleHQtYWxpZ246IGNlbnRlcjtcclxuIH1cclxuIFxyXG5cclxuIC5oaWRlIHtcclxuICAgZGlzcGxheTogbm9uZTtcclxuIH1cclxuXHJcbiBpb24tdGV4dGFyZWEge1xyXG4gICBiYWNrZ3JvdW5kOiAjZmZmO1xyXG4gICBwYWRkaW5nOiAxMHB4O1xyXG4gfVxyXG4ucG9zdC1iZyB7XHJcbiAgbWluLWhlaWdodDogMjAwcHg7XHJcbiAgYmFja2dyb3VuZC1zaXplOiBjb3ZlcjtcclxuICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiA1MCUgNTAlO1xyXG59XHJcblxyXG4gIiwiLnByb2ZpbGVJbWFnZSB7XG4gIGJhY2tncm91bmQtc2l6ZTogY292ZXI7XG4gIGJhY2tncm91bmQtcmVwZWF0OiBuby1yZXBlYXQ7XG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcbn1cbi5wcm9maWxlSW1hZ2UgPiBkaXYge1xuICBoZWlnaHQ6IDQwMHB4O1xufVxuLnByb2ZpbGVJbWFnZSAuaW1hZ2VCZyB7XG4gIGhlaWdodDogMTAwJTtcbiAgd2lkdGg6IDEwMCU7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgdG9wOiAwcHg7XG4gIGxlZnQ6IDBweDtcbiAgYmFja2dyb3VuZC1zaXplOiBjb3ZlcjtcbiAgYmFja2dyb3VuZC1wb3NpdGlvbjogNTAlIDUwJTtcbn1cbi5wcm9maWxlSW1hZ2UgaW9uLWNhcmQtaGVhZGVyIHtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICBib3R0b206IDBweDtcbiAgcGFkZGluZzogMTBweDtcbiAgYmFja2dyb3VuZDogcmdiYSgwLCAwLCAwLCAwLjcpO1xuICBjb2xvcjogI2ZmZmZmZjtcbn1cbi5wcm9maWxlSW1hZ2UgaW9uLWNhcmQtaGVhZGVyIGlvbi1jYXJkLXRpdGxlIHtcbiAgZm9udC13ZWlnaHQ6IGJvbGQ7XG4gIHBhZGRpbmc6IDBweDtcbiAgY29sb3I6ICNmZmYgIWltcG9ydGFudDtcbn1cbi5wcm9maWxlSW1hZ2UgaW9uLWNhcmQtaGVhZGVyIGlvbi1jYXJkLXN1YnRpdGxlIHtcbiAgbWFyZ2luOiAwcHg7XG4gIGNvbG9yOiAjZmZmO1xufVxuLnByb2ZpbGVJbWFnZSBpb24tYnV0dG9uIHtcbiAgYmFja2dyb3VuZDogcmdiYSgwLCAwLCAwLCAwLjYpO1xuICBib3JkZXItcmFkaXVzOiAxMHB4O1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIHJpZ2h0OiA1cHg7XG4gIHRvcDogMHB4O1xufVxuXG4jbmFtZVN0YXR1cyB7XG4gIGNvbG9yOiB3aGl0ZTtcbiAgdGV4dC1zaGFkb3c6IC0ycHggMnB4IDZweCBibGFjaztcbn1cblxuLnByb2ZpbGVJbWFnZTIge1xuICBiYWNrZ3JvdW5kOiB1cmwoLi4vLi4vLi4vYXNzZXRzL2d5bXByb2ZpbGUuanBlZyk7XG4gIGJhY2tncm91bmQtc2l6ZTogY292ZXI7XG4gIGJhY2tncm91bmQtcmVwZWF0OiBuby1yZXBlYXQ7XG4gIGhlaWdodDogNTUlO1xufVxuXG4ubmF2IHtcbiAgd2lkdGg6IDI0JTtcbn1cblxuLm5hdk1lbnUge1xuICBwb3NpdGlvbjogZml4ZWQ7XG4gIHotaW5kZXg6IDk5OTk7XG59XG4ubmF2TWVudSBpb24tbGlzdCB7XG4gIHBhZGRpbmctdG9wOiAzMHB4O1xuICBoZWlnaHQ6IDEwMCU7XG59XG5cbnAge1xuICBjb2xvcjogd2hpdGU7XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbn1cblxuLmhpZGUge1xuICBkaXNwbGF5OiBub25lO1xufVxuXG5pb24tdGV4dGFyZWEge1xuICBiYWNrZ3JvdW5kOiAjZmZmO1xuICBwYWRkaW5nOiAxMHB4O1xufVxuXG4ucG9zdC1iZyB7XG4gIG1pbi1oZWlnaHQ6IDIwMHB4O1xuICBiYWNrZ3JvdW5kLXNpemU6IGNvdmVyO1xuICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiA1MCUgNTAlO1xufSJdfQ== */\"","import { Component, OnInit } from '@angular/core';\r\nimport { AuthService } from '../../services/auth.service';\r\nimport { ProductService } from '../../services/product.service';\r\nimport { FormGroup, FormBuilder, Validators } from '@angular/forms';\r\nimport { ActionSheetController } from '@ionic/angular';\r\nimport { Camera, CameraOptions } from '@ionic-native/camera/ngx';\r\nimport { AngularFirestore, AngularFirestoreDocument } from '@angular/fire/firestore';\r\nimport { AngularFireAuth } from '@angular/fire/auth';\r\nimport { AngularFireStorage, AngularFireStorageReference } from '@angular/fire/storage';\r\nimport { WebView } from '@ionic-native/ionic-webview/ngx';\r\nimport { DomSanitizer } from '@angular/platform-browser';\r\n\r\nimport { PostCrudService } from './../../services/firestore-api.service';\r\n\r\n\r\n@Component({\r\n  selector: 'app-buyer-list',\r\n  templateUrl: './feed.page.html',\r\n  styleUrls: ['./feed.page.scss'],\r\n})\r\nexport class FeedPage implements OnInit {\r\n  loginForm: FormGroup;\r\n  togglePostFlag: boolean;\r\n  newPostImage: string;\r\n  newPostText: string;\r\n\r\n  public fname: string;\r\n  public lname: string;\r\n  postData = { };\r\n  posts = {};\r\n  public myPosts = [];\r\n  public profileImage;\r\n  public imageReady: boolean;\r\n  public imageID: string;\r\n  \r\n\r\n  constructor(\r\n              private auth: AuthService,\r\n              private productService: ProductService,\r\n              private actionSheetController: ActionSheetController,\r\n              private camera: Camera,\r\n              private db: AngularFirestore,\r\n              private afAuth: AngularFireAuth,\r\n              private storage: AngularFireStorage,\r\n              private webview: WebView,\r\n              private sanitizer: DomSanitizer,\r\n              private postCrudService: PostCrudService\r\n  ) {\r\n    this.togglePostFlag = false;\r\n  }\r\n\r\n\r\n  ngOnInit() {\r\n    const id = this.afAuth.auth.currentUser.uid;\r\n    this.getUserData(id);\r\n\r\n    // This gets all posts...\r\n    this.postCrudService.readPosts().subscribe(data => {\r\n\r\n      this.posts = data.map(e => {\r\n        return {\r\n          id: e.payload.doc.id,\r\n          isEdit: false,\r\n          Data: e.payload.doc.data()['data'],\r\n          Image: e.payload.doc.data()['image'],\r\n          User_ID: e.payload.doc.data()['user_id'],\r\n        };\r\n      })\r\n\r\n      // Overly convoluted hack as I couldn't figure out how to query properly.\r\n      // This will need to be fixed eventually.\r\n      const postsLength = Object.keys(this.posts).length;\r\n      const id = this.afAuth.auth.currentUser.uid;\r\n      let counter = 0;\r\n      for(let i = 0; i < postsLength; i++) {\r\n        // If only this users posts\r\n        if (this.posts[i].User_ID === id) {\r\n          this.myPosts[counter] = this.posts[i];\r\n          this.getUserData(this.posts[i].User_ID);\r\n\r\n          // If this.posts[i].Image is set.\r\n          if (this.posts[i].Image !== undefined) {\r\n            this.getPostImage(id, this.posts[i].Image, counter);\r\n          }\r\n          counter++;\r\n        }\r\n      }\r\n      //console.log(this.myPosts);\r\n    });\r\n  }\r\n\r\n\r\n  togglePost() {\r\n    if (this.togglePostFlag === false) {\r\n      this.togglePostFlag = true;\r\n    } else {\r\n      this.togglePostFlag = false;\r\n    }\r\n  }\r\n\r\n\r\n  // Image Handlers\r\n  async selectSource() {\r\n    const actionSheet = await this.actionSheetController.create({\r\n      header: 'Select Image Source',\r\n      buttons: [{\r\n        text: 'Load from Library',\r\n        handler: () => {\r\n          this.captureImage(this.camera.PictureSourceType.PHOTOLIBRARY);\r\n        }\r\n      },\r\n      {\r\n        text: 'Use Camera',\r\n        handler: () => {\r\n          this.captureImage(this.camera.PictureSourceType.CAMERA);\r\n        }\r\n      },\r\n      {\r\n        text: 'Cancel',\r\n        role: 'cancel'\r\n      }\r\n      ]\r\n    });\r\n    actionSheet.present();\r\n  }\r\n\r\n  captureImage(sourceType: number) {\r\n    let storageRef: AngularFireStorageReference = null;\r\n    const id = this.afAuth.auth.currentUser.uid;\r\n\r\n\r\n    const options: CameraOptions = {\r\n      quality: 100,\r\n      sourceType: sourceType,\r\n      saveToPhotoAlbum: false,\r\n      correctOrientation: true\r\n    };\r\n\r\n\r\n    this.camera.getPicture(options).then(imagePath => {\r\n      storageRef = this.storage.ref(id);\r\n      // Convert url to safe url and set the state of new profileImage\r\n      this.profileImage = this.webview.convertFileSrc(imagePath);\r\n      this.imageReady = true;\r\n      // Upload image\r\n      this.imageID = this.makeid(60);\r\n      // console.log(this.imageID);\r\n      this.uploadImage(this.profileImage, this.imageID);\r\n    });\r\n  }\r\n\r\n  uploadImage(imageURI, imageName){\r\n    return new Promise<any>((resolve, reject) => {\r\n      const id = this.afAuth.auth.currentUser.uid;\r\n      let storageRef: AngularFireStorageReference = this.storage.ref(id);\r\n      // console.log('storageRef');\r\n      // console.log(storageRef);\r\n      let imageRef = storageRef.child('image').child(imageName);\r\n      this.encodeImageUri(imageURI, function(image64){\r\n        imageRef.putString(image64, 'data_url')\r\n        .then(snapshot => {\r\n          resolve(snapshot.downloadURL);\r\n          this.profileImage = snapshot.downloadURL;\r\n        }, err => {\r\n          reject(err);\r\n        })\r\n      })\r\n    })\r\n  }\r\n\r\n  encodeImageUri(imageUri, callback) {\r\n    var c = document.createElement('canvas');\r\n    var ctx = c.getContext('2d');\r\n    var img = new Image();\r\n    img.crossOrigin = 'anonymous';  // This enables CORS\r\n    img.onload = function () {\r\n      var aux:any = this;\r\n      c.width = aux.width;\r\n      c.height = aux.height;\r\n      ctx.drawImage(img, 0, 0);\r\n      var dataURL = c.toDataURL('image/jpeg');\r\n      callback(dataURL);\r\n    };\r\n    img.src = imageUri;\r\n  }\r\n\r\n  removeImage() {\r\n    this.profileImage = '';\r\n    this.imageReady = false;\r\n  }\r\n\r\n  async createPost() {\r\n    const id = this.afAuth.auth.currentUser.uid;\r\n    let record = {};\r\n    record['user_id'] = id;\r\n    this.postData['fname'] = this.fname;\r\n    this.postData['lname'] = this.lname;\r\n    record['data'] = this.postData;\r\n    if(this.imageID !== undefined){\r\n      record['image'] = this.imageID;\r\n    }\r\n\r\n\r\n    this.postCrudService.createPost(record).then(resp => {\r\n      // console.log(resp);\r\n    })\r\n      .catch(error => {\r\n        // console.log(error);\r\n      });\r\n  }\r\n\r\n\r\n  async getPostImage(id, imageID, counter){\r\n    const ref = this.storage.ref(id + '/image/' + imageID);\r\n    const profileImage = ref.getDownloadURL();\r\n    profileImage.subscribe(result => {\r\n      // this.profileImage = result;\r\n      // this.imageReady = true;\r\n      // console.log('counter', counter);\r\n      // console.log(result);\r\n      this.myPosts[counter].Image = result;\r\n      return result;\r\n    });\r\n  }\r\n\r\n  makeid(length) {\r\n    let result           = '';\r\n    const characters       = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\r\n    const charactersLength = characters.length;\r\n    for ( let i = 0; i < length; i++ ) {\r\n       result += characters.charAt(Math.floor(Math.random() * charactersLength));\r\n    }\r\n    return result;\r\n  }\r\n  async getUserData(id) {\r\n    const userData = await this.db.collection('users')\r\n      .doc(id)\r\n      .ref\r\n      .get().then( doc => { // function(doc) {\r\n          if (doc.exists) {\r\n              const userData = doc.data();\r\n              return userData;\r\n          } else {\r\n              // console.log('No such document!');\r\n          }\r\n      });\r\n\r\n\r\n    this.fname = userData.fname;\r\n    this.lname = userData.lname;\r\n    // this.dataReady = true;\r\n  }\r\n}"],"sourceRoot":""}